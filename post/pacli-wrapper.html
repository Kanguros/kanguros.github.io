<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>
PACLI Wrapper - Kamil's Scratchpad
    </title>

    <!-- Bootstrap and Clean Blog CSS -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fira+Sans:ital,wght@0,300;0,400;0,500;0,600;1,300;1,400;1,500&display=swap"
          rel="stylesheet">

    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
          integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65"
          crossorigin="anonymous"
    >
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"
    >
    <link rel="stylesheet"
          href="https://kanguros.github.io/theme/css/code_blocks/darkly.css"
    >
    <link rel="stylesheet"
          href="https://kanguros.github.io/theme/css/clean-blog.css"
    >



<meta name="description" content="CyberArk PACLI wrapper in Python">

<meta name="tags" content="notes">
<meta name="tags" content="pwv">
<meta name="tags" content="pacli">
<meta name="tags" content="python">

    <meta property="og:locale" content="en">
    <meta property="og:site_name" content="Kamil's Scratchpad">

<meta property="og:type" content="article">
<meta property="og:url" content="https://kanguros.github.io/post/pacli-wrapper.html">
<meta property="og:title" content="PACLI Wrapper">
<meta property="article:published_time" content="2023-08-10 00:00:00+02:00">

<meta property="og:description" content="CyberArk PACLI wrapper in Python">

<meta property="og:image" content="https://kanguros.github.io/theme/images/post-bg.jpg">

</head>

<body class="article-pacli-wrapper d-flex flex-column vh-100">
<div class="col-lg-8 offset-lg-2 col-md-10 offset-md-1">
    <nav class="navbar navbar-expand container align-items-center px-2 mt-2 mb-1">
        <a class="brand" href="https://kanguros.github.io">
            Kamil's Scratchpad
        </a>
        <div class="navbar-collapse justify-content-end">
            <ul class="nav navbar-nav">
                <li class="nav-item">
                    <a class="btn-navigation mx-2 my-2 float-end"
                       href="https://kanguros.github.io/tags.html"
                       title="Tags"
                       aria-label="Tags"
                    >Tags</a>
                </li>
                <li class="nav-item">
                    <a class="btn-navigation mx-2 my-2 float-end"
                       href="https://kanguros.github.io/about.html"
                       title="About"
                       aria-label="About"
                    >About</a>
                </li>
            </ul>
        </div>
    </nav>
    <hr class="nav-line">
</div>
<header class="intro-header">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 offset-lg-2 col-md-10 offset-md-1">
<div class="article-heading">
    <a href="https://kanguros.github.io/post/pacli-wrapper.html" rel="bookmark" title="PACLI Wrapper">
        <h1>
            PACLI Wrapper
        </h1>
    </a>
    <p class="meta-element">
        <i class="bi bi-calendar"></i> 2023-08-10
<i class="bi bi-dot"></i>
<i class="bi bi-book"></i> 7 minutes

    </p>
    <div class="tags meta-element">
    <a href="/tag/notes.html"
       rel="bookmark"
       title="Posts with #notes tag"
       aria-label="Posts with #notes tag"
    >#notes</a>
    <a href="/tag/pwv.html"
       rel="bookmark"
       title="Posts with #pwv tag"
       aria-label="Posts with #pwv tag"
    >#pwv</a>
    <a href="/tag/pacli.html"
       rel="bookmark"
       title="Posts with #pacli tag"
       aria-label="Posts with #pacli tag"
    >#pacli</a>
    <a href="/tag/python.html"
       rel="bookmark"
       title="Posts with #python tag"
       aria-label="Posts with #python tag"
    >#python</a>
</div>

</div>
            </div>
        </div>
    </div>
</header>

<div class="container">
    <div class="row">
        <div class="col-lg-8 offset-lg-2 col-md-10 offset-md-1">
<article>
    <p>CyberArk <span class="caps">PACLI</span> wrapper in&nbsp;Python</p>
    <p>The <strong><span class="caps">PACLI</span> Wrapper</strong> is a Python tool designed to streamline the interaction with the <strong>Privileged Access Manager (<span class="caps">PAM</span>) <span class="caps">CLI</span> (<span class="caps">PACLI</span>)</strong> utility. With this wrapper, you can easily manage your privileged access vault using Python scripts, making tasks like unlocking accounts and opening/closing safes more&nbsp;efficient.</p>
<h2 id="features"><a class="toclink" href="#features">Features</a></h2>
<ul>
<li>Initialize <span class="caps">PACLI</span> sessions easily with default&nbsp;settings.</li>
<li>Execute <span class="caps">PACLI</span> commands and capture their outputs using&nbsp;subprocess.</li>
<li>Open and close safes&nbsp;seamlessly.</li>
<li>Unlock individual accounts or multiple accounts within a&nbsp;safe.</li>
<li>Convenient context management for automatic logon and&nbsp;logoff.</li>
</ul>
<h2 id="installation"><a class="toclink" href="#installation">Installation</a></h2>
<p>The <span class="caps">PACLI</span> Wrapper is designed to work with Python 3.6+ and requires no additional&nbsp;dependencies.</p>
<ol>
<li>Copy and paste the provided <code>PACLI</code> class into your&nbsp;project.</li>
<li>Customize the initialization parameters as per your environment, including username, password, and vault <span class="caps">URL</span>.</li>
<li>Use the wrapper&#8217;s methods to interact with <span class="caps">PACLI</span> commands, such as opening safes and unlocking&nbsp;accounts.</li>
</ol>
<h2 id="usage"><a class="toclink" href="#usage">Usage</a></h2>
<div class="highlight"><pre><span></span><code><span class="c1"># Import the PACLI class</span>
<span class="kn">from</span> <span class="nn">pacli_wrapper</span> <span class="kn">import</span> <span class="n">PACLI</span>

<span class="c1"># Create an instance of the PACLI wrapper</span>
<span class="n">pacli</span> <span class="o">=</span> <span class="n">PACLI</span><span class="p">(</span><span class="s2">&quot;YOUR_USERNAME&quot;</span><span class="p">,</span> <span class="s2">&quot;YOUR_PASSWORD&quot;</span><span class="p">,</span> <span class="s2">&quot;VAULT_URL&quot;</span><span class="p">)</span>

<span class="c1"># Example: Open a safe and unlock an account</span>
<span class="k">with</span> <span class="n">pacli</span><span class="p">:</span>
    <span class="n">pacli</span><span class="o">.</span><span class="n">unlock_account</span><span class="p">(</span><span class="s2">&quot;SafeName&quot;</span><span class="p">,</span> <span class="s2">&quot;AccountName&quot;</span><span class="p">)</span>

<span class="c1"># Example: Unlock multiple accounts in a safe</span>
<span class="k">with</span> <span class="n">pacli</span><span class="p">:</span>
    <span class="n">accounts_to_unlock</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Account1&quot;</span><span class="p">,</span> <span class="s2">&quot;Account2&quot;</span><span class="p">]</span>
    <span class="n">pacli</span><span class="o">.</span><span class="n">unlock_accounts</span><span class="p">(</span><span class="s2">&quot;SafeName&quot;</span><span class="p">,</span> <span class="n">accounts_to_unlock</span><span class="p">)</span>
</code></pre></div>

<h2 id="get-started"><a class="toclink" href="#get-started">Get&nbsp;Started</a></h2>
<ol>
<li>Clone the repository or copy the <code>PACLI</code> class into your&nbsp;project.</li>
<li>Customize the <code>username</code>, <code>password</code>, and <code>vault_url</code> fields in the <code>get_pacli()</code> function.</li>
<li>Use the provided methods to interact with <span class="caps">PACLI</span>&nbsp;commands.</li>
</ol>
<h2 id="code"><a class="toclink" href="#code">Code</a></h2>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">subprocess</span>
<span class="kn">from</span> <span class="nn">subprocess</span> <span class="kn">import</span> <span class="n">run</span><span class="p">,</span> <span class="n">CompletedProcess</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span><span class="p">,</span> <span class="n">Optional</span><span class="p">,</span> <span class="n">Dict</span>


<span class="k">class</span> <span class="nc">PACLI</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">username</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">password</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">vault_url</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">exe_dir</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;.&quot;</span><span class="p">,</span>
                 <span class="n">defaults</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initialize the PACLI wrapper.</span>

<span class="sd">        Args:</span>
<span class="sd">            username (str): Username for logging in.</span>
<span class="sd">            password (str): Password for logging in.</span>
<span class="sd">            vault_url (str): URL of the Vault.</span>
<span class="sd">            exe_dir (str, optional): Directory containing PACLI executable. Defaults to &quot;.&quot;.</span>
<span class="sd">            defaults (dict, optional): Dictionary of default PACLI values. Defaults to None.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">username</span> <span class="o">=</span> <span class="n">username</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">password</span> <span class="o">=</span> <span class="n">password</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">vault_url</span> <span class="o">=</span> <span class="n">vault_url</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">exe_dir</span> <span class="o">=</span> <span class="n">exe_dir</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">defaults</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;VAULT&quot;</span><span class="p">:</span> <span class="s2">&quot;PWV&quot;</span><span class="p">,</span>
            <span class="s2">&quot;FOLDER&quot;</span><span class="p">:</span> <span class="s2">&quot;Root&quot;</span><span class="p">,</span>
            <span class="s2">&quot;USER&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">username</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="n">defaults</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">defaults</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">defaults</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_start</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_define_start</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_end</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">[</span><span class="s2">&quot;PACLI&quot;</span><span class="p">,</span> <span class="s2">&quot;LOGOFF&quot;</span><span class="p">],</span>
            <span class="p">[</span><span class="s2">&quot;PACLI&quot;</span><span class="p">,</span> <span class="s2">&quot;TERM&quot;</span><span class="p">],</span>
        <span class="p">]</span>

    <span class="k">def</span> <span class="nf">_define_start</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Define the PACLI start commands with default values.</span>

<span class="sd">        Returns:</span>
<span class="sd">            List[List[str]]: List of start command lists.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">defaults</span> <span class="o">=</span> <span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">k</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="si">}</span><span class="s2">=</span><span class="si">{</span><span class="n">v</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">defaults</span><span class="o">.</span><span class="n">items</span><span class="p">()]</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="p">[</span><span class="s2">&quot;PACLI&quot;</span><span class="p">,</span> <span class="s2">&quot;INIT&quot;</span><span class="p">],</span>
            <span class="p">[</span><span class="s2">&quot;PACLI&quot;</span><span class="p">,</span> <span class="s2">&quot;DEFAULT&quot;</span><span class="p">,</span> <span class="o">*</span><span class="n">defaults</span><span class="p">],</span>
            <span class="p">[</span><span class="s2">&quot;PACLI&quot;</span><span class="p">,</span> <span class="s2">&quot;DEFINE&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;ADDRESS=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">vault_url</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">],</span>
        <span class="p">]</span>

    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cmd</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">CompletedProcess</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Execute a command using subprocess.</span>

<span class="sd">        Args:</span>
<span class="sd">            cmd (List[str]): List of command arguments.</span>
<span class="sd">            **kwargs: Additional keyword arguments for subprocess.run.</span>

<span class="sd">        Returns:</span>
<span class="sd">            CompletedProcess: CompletedProcess object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">run</span><span class="p">(</span><span class="n">cmd</span><span class="p">,</span> <span class="n">shell</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">stdout</span><span class="o">=</span><span class="n">subprocess</span><span class="o">.</span><span class="n">PIPE</span><span class="p">,</span> <span class="n">stderr</span><span class="o">=</span><span class="n">subprocess</span><span class="o">.</span><span class="n">PIPE</span><span class="p">,</span> <span class="n">cwd</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">exe_dir</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">run_many</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cmds</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]],</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">CompletedProcess</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Execute multiple commands using subprocess.</span>

<span class="sd">        Args:</span>
<span class="sd">            cmds (List[List[str]]): List of lists containing command arguments.</span>
<span class="sd">            **kwargs: Additional keyword arguments for subprocess.run.</span>

<span class="sd">        Returns:</span>
<span class="sd">            List[CompletedProcess]: List of CompletedProcess objects.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">cmd</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="k">for</span> <span class="n">cmd</span> <span class="ow">in</span> <span class="n">cmds</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">logon</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Log on to the Vault.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">run_many</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_start</span><span class="p">,</span> <span class="n">check</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">logoff</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Log off from the Vault.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">run_many</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_end</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__enter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">logon</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="fm">__exit__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">exc_type</span><span class="p">,</span> <span class="n">exc_val</span><span class="p">,</span> <span class="n">exc_tb</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">logoff</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">cmd_open_safe</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">safe_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Open a safe with the specified name.</span>

<span class="sd">        Args:</span>
<span class="sd">            safe_name (str): Name of the safe to open.</span>

<span class="sd">        Returns:</span>
<span class="sd">            List[List[str]]: List of commands to open the safe.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="p">[</span><span class="s2">&quot;PACLI&quot;</span><span class="p">,</span> <span class="s2">&quot;OPENSAFE&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;SAFE=</span><span class="si">{</span><span class="n">safe_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">]</span>
        <span class="p">]</span>

    <span class="k">def</span> <span class="nf">cmd_close_safe</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">safe_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Close a safe with the specified name.</span>

<span class="sd">        Args:</span>
<span class="sd">            safe_name (str): Name of the safe to close.</span>

<span class="sd">        Returns:</span>
<span class="sd">            List[List[str]]: List of commands to close the safe.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="p">[</span><span class="s2">&quot;PACLI&quot;</span><span class="p">,</span> <span class="s2">&quot;CLOSESAFE&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;SAFE=</span><span class="si">{</span><span class="n">safe_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">]</span>
        <span class="p">]</span>

    <span class="k">def</span> <span class="nf">cmd_unlock_accounts</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">safe_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">accounts</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Unlock an accounts with the specified names. Include openning and closing a safe.</span>

<span class="sd">        Args:</span>
<span class="sd">            safe_name (str): Name of the safe with accounts.</span>
<span class="sd">            accounts (List[str]): List of accounts name.</span>

<span class="sd">        Returns:</span>
<span class="sd">            List[List[str]]: List of commands to unlock the accounts.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">unlock_cmd</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">[</span><span class="s2">&quot;UNLOCKFILE&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;SAFE=</span><span class="si">{</span><span class="n">safe_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;FILE=</span><span class="si">{</span><span class="n">account</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">]</span>
            <span class="k">for</span> <span class="n">account</span> <span class="ow">in</span> <span class="n">accounts</span>
        <span class="p">]</span>
        <span class="k">return</span> <span class="p">[</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd_open_safe</span><span class="p">(</span><span class="n">safe_name</span><span class="p">),</span>
                <span class="o">*</span><span class="n">unlock_cmd</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">cmd_close_safe</span><span class="p">(</span><span class="n">safe_name</span><span class="p">)]</span>

    <span class="k">def</span> <span class="nf">unlock_account</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">safe_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">account</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">accounts</span> <span class="o">=</span> <span class="p">[</span><span class="n">account</span><span class="p">]</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">run_many</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd_unlock_accounts</span><span class="p">(</span><span class="n">safe_name</span><span class="p">,</span> <span class="n">accounts</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">unlock_accounts</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">safe_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">accounts</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">run_many</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd_unlock_accounts</span><span class="p">(</span><span class="n">safe_name</span><span class="p">,</span> <span class="n">accounts</span><span class="p">))</span>


<span class="k">def</span> <span class="nf">get_pacli</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">PACLI</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get an instance of the PACLI wrapper.</span>

<span class="sd">    Returns:</span>
<span class="sd">        PACLI: Instance of PACLI class.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">username</span> <span class="o">=</span> <span class="s2">&quot;USERNAME&quot;</span>
    <span class="n">password</span> <span class="o">=</span> <span class="s2">&quot;PASSWORD&quot;</span>
    <span class="n">vault</span> <span class="o">=</span> <span class="s2">&quot;http://localhost&quot;</span>
    <span class="k">return</span> <span class="n">PACLI</span><span class="p">(</span><span class="n">username</span><span class="p">,</span> <span class="n">password</span><span class="p">,</span> <span class="n">vault</span><span class="p">)</span>
</code></pre></div>
</article>

<div class="related-posts">
    <hr class="section-line">
    <h1 class="subheading">Related posts</h1>
    <ul>
        <li>
            <a href="https://kanguros.github.io/post/azure-devops-class.html">
                Azure Devops&nbsp;Class
            </a>
            <div class="d-flex justify-content-start meta-elements">
                <i class="bi bi-calendar"></i> 2023-08-10
                <i class="bi bi-dot"></i>
                <i class="bi bi-book"></i> 7 minutes
            </div>
        </li>
        <li>
            <a href="https://kanguros.github.io/post/dynamic-click.html">
                Dynamic&nbsp;Click
            </a>
            <div class="d-flex justify-content-start meta-elements">
                <i class="bi bi-calendar"></i> 2023-08-10
                <i class="bi bi-dot"></i>
                <i class="bi bi-book"></i> 7 minutes
            </div>
        </li>
        <li>
            <a href="https://kanguros.github.io/post/requests-using-pytest.html">
                Requests using&nbsp;pytest
            </a>
            <div class="d-flex justify-content-start meta-elements">
                <i class="bi bi-calendar"></i> 2023-08-10
                <i class="bi bi-dot"></i>
                <i class="bi bi-book"></i> 7 minutes
            </div>
        </li>
    </ul>
</div>

        </div>
    </div>
</div>

<footer class="col-lg-8 offset-lg-2 col-md-10 offset-md-1">
    <hr class="section-line">
    <p class="footer-links mt-3 mb-1">
        <a href="https://kanguros.github.io"
           class="px-2"
           title="Index"
           aria-label="Index"
        >Index</a>
        <a href="https://kanguros.github.io/tags.html"
           class="px-2"
           title="Tags"
           aria-label="Tags"
        >Tags</a>
        <a href="https://kanguros.github.io/about.html"
           class="px-2"
           title="About"
           aria-label="About"
        >About</a>
        <a href="https://github.com/Kanguros/"
           class="px-2"
           title="Git"
           aria-label="Git"
        >Git</a>
    </p>
    <p class="copyright">
        &copy; Made by
        <a href="https://kanguros.github.io/about.html">Kamil Urbanek</a>, powered by
        <a href="https://getpelican.com">Pelican</a>
    </p>
</footer>
<script src="https://kanguros.github.io/theme/js/clean-blog.js"></script>
</body>
</html>