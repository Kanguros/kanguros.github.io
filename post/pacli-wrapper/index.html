<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>
PACLI Wrapper - Kamil's Scratchpad
    </title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Lexend:wght@300;700&family=Montserrat:wght@400;700&family=Fira+Code:wght@400;700&display=swap"
        rel="stylesheet">

    <link rel="stylesheet" href="https://kanguros.github.io/theme/css/code_blocks.css">
    <link rel="stylesheet" href="https://kanguros.github.io/theme/css/style.css">

<meta name="description" content="CyberArk PACLI wrapper in Python">
<meta name="tags" content="pwv">
<meta name="tags" content="pacli">
<meta name="tags" content="python">

    <meta property="og:locale" content="en">
    <meta property="og:site_name" content="Kamil's Scratchpad">

<meta property="og:type" content="article">
<meta property="og:url" content="https://kanguros.github.io/post/pacli-wrapper/">
<meta property="og:title" content="PACLI Wrapper">
<meta property="article:published_time" content="2023-08-10 00:00:00+02:00">
<meta property="og:description" content="CyberArk PACLI wrapper in Python">

    <link rel="icon" type="image/x-icon" href="/favicon.ico">

    <script async src="https://www.googletagmanager.com/gtag/js?id=G-JXZFNZYL4M"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() {dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-JXZFNZYL4M');
    </script>
</head>

<body>
    <header>
        <nav>
            <div>
                <a href="https://kanguros.github.io" title="Kamil's Scratchpad" aria-label="Kamil's Scratchpad" class="nav-logo">
                    <strong>K</strong>
                </a>
            </div>
            <div>
                <a class="link" href="https://kanguros.github.io/posts/" title="Posts" aria-label="Posts">Posts</a>
                <a class="link" href="https://kanguros.github.io/tags/" title="Tags" aria-label="Tags">Tags</a>
                <a class="link" href="https://kanguros.github.io/about/" title="About" aria-label="About">About</a>
                <span class="toggle-icon" id="toggle-icon" onclick="toggleDarkMode()">☀</span>
            </div>
        </nav>
    </header>
    <main>
        <div class="hero">
<h1>
    <a href="https://kanguros.github.io/post/pacli-wrapper/" rel="bookmark"
        title="PACLI Wrapper">PACLI Wrapper</a>
</h1>
<div class="post-meta">
        <div>
            <span>2023-08-10</span><span class="tags">
    <a class="tag" href="/tag/pwv/index.html" rel="bookmark" title="Posts with #pwv tag"
        aria-label="Posts with #pwv tag">#pwv</a>
    <a class="tag" href="/tag/pacli/index.html" rel="bookmark" title="Posts with #pacli tag"
        aria-label="Posts with #pacli tag">#pacli</a>
    <a class="tag" href="/tag/python/index.html" rel="bookmark" title="Posts with #python tag"
        aria-label="Posts with #python tag">#python</a>
</span>

        </div>
    </div>
        </div>
<article>
<p>The <strong><span class="caps">PACLI</span> Wrapper</strong> is a Python tool designed to streamline the interaction with the <strong>Privileged Access Manager (<span class="caps">PAM</span>) <span class="caps">CLI</span> (<span class="caps">PACLI</span>)</strong> utility. With this wrapper, you can easily manage your privileged access vault using Python scripts, making tasks like unlocking accounts and opening/closing safes more&nbsp;efficient.</p>
<h2 id="features"><a class="toclink" href="#features">Features</a></h2>
<ul>
<li>Initialize <span class="caps">PACLI</span> sessions easily with default&nbsp;settings.</li>
<li>Execute <span class="caps">PACLI</span> commands and capture their outputs using&nbsp;subprocess.</li>
<li>Open and close safes&nbsp;seamlessly.</li>
<li>Unlock individual accounts or multiple accounts within a&nbsp;safe.</li>
<li>Convenient context management for automatic logon and&nbsp;logoff.</li>
</ul>
<h2 id="installation"><a class="toclink" href="#installation">Installation</a></h2>
<p>The <span class="caps">PACLI</span> Wrapper is designed to work with Python 3.6+ and requires no additional&nbsp;dependencies.</p>
<ol>
<li>Copy and paste the&nbsp;provided <code>PACLI</code> class into your&nbsp;project.</li>
<li>Customize the initialization parameters as per your environment, including username, password, and vault <span class="caps">URL</span>.</li>
<li>Use the wrapper&#8217;s methods to interact with <span class="caps">PACLI</span> commands, such as opening safes and unlocking&nbsp;accounts.</li>
</ol>
<h2 id="usage"><a class="toclink" href="#usage">Usage</a></h2>
<div class="highlight"><pre><span></span><code><span class="c1"># Import the PACLI class</span>
<span class="kn">from</span> <span class="nn">pacli_wrapper</span> <span class="kn">import</span> <span class="n">PACLI</span>

<span class="c1"># Create an instance of the PACLI wrapper</span>
<span class="n">pacli</span> <span class="o">=</span> <span class="n">PACLI</span><span class="p">(</span><span class="s2">&quot;YOUR_USERNAME&quot;</span><span class="p">,</span> <span class="s2">&quot;YOUR_PASSWORD&quot;</span><span class="p">,</span> <span class="s2">&quot;VAULT_URL&quot;</span><span class="p">)</span>

<span class="c1"># Example: Open a safe and unlock an account</span>
<span class="k">with</span> <span class="n">pacli</span><span class="p">:</span>
    <span class="n">pacli</span><span class="o">.</span><span class="n">unlock_account</span><span class="p">(</span><span class="s2">&quot;SafeName&quot;</span><span class="p">,</span> <span class="s2">&quot;AccountName&quot;</span><span class="p">)</span>

<span class="c1"># Example: Unlock multiple accounts in a safe</span>
<span class="k">with</span> <span class="n">pacli</span><span class="p">:</span>
    <span class="n">accounts_to_unlock</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Account1&quot;</span><span class="p">,</span> <span class="s2">&quot;Account2&quot;</span><span class="p">]</span>
    <span class="n">pacli</span><span class="o">.</span><span class="n">unlock_accounts</span><span class="p">(</span><span class="s2">&quot;SafeName&quot;</span><span class="p">,</span> <span class="n">accounts_to_unlock</span><span class="p">)</span>
</code></pre></div>

<h2 id="get-started"><a class="toclink" href="#get-started">Get&nbsp;Started</a></h2>
<ol>
<li>Clone the repository or copy&nbsp;the <code>PACLI</code> class into your&nbsp;project.</li>
<li>Customize&nbsp;the <code>username</code>, <code>password</code>,&nbsp;and <code>vault_url</code> fields in&nbsp;the <code>get_pacli()</code> function.</li>
<li>Use the provided methods to interact with <span class="caps">PACLI</span>&nbsp;commands.</li>
</ol>
<h2 id="code"><a class="toclink" href="#code">Code</a></h2>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">subprocess</span>
<span class="kn">from</span> <span class="nn">subprocess</span> <span class="kn">import</span> <span class="n">run</span><span class="p">,</span> <span class="n">CompletedProcess</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span><span class="p">,</span> <span class="n">Optional</span><span class="p">,</span> <span class="n">Dict</span>


<span class="k">class</span> <span class="nc">PACLI</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">username</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">password</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">vault_url</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">exe_dir</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;.&quot;</span><span class="p">,</span>
                 <span class="n">defaults</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initialize the PACLI wrapper.</span>

<span class="sd">        Args:</span>
<span class="sd">            username (str): Username for logging in.</span>
<span class="sd">            password (str): Password for logging in.</span>
<span class="sd">            vault_url (str): URL of the Vault.</span>
<span class="sd">            exe_dir (str, optional): Directory containing PACLI executable. Defaults to &quot;.&quot;.</span>
<span class="sd">            defaults (dict, optional): Dictionary of default PACLI values. Defaults to None.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">username</span> <span class="o">=</span> <span class="n">username</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">password</span> <span class="o">=</span> <span class="n">password</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">vault_url</span> <span class="o">=</span> <span class="n">vault_url</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">exe_dir</span> <span class="o">=</span> <span class="n">exe_dir</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">defaults</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;VAULT&quot;</span><span class="p">:</span> <span class="s2">&quot;PWV&quot;</span><span class="p">,</span>
            <span class="s2">&quot;FOLDER&quot;</span><span class="p">:</span> <span class="s2">&quot;Root&quot;</span><span class="p">,</span>
            <span class="s2">&quot;USER&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">username</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="n">defaults</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">defaults</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">defaults</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_start</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_define_start</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_end</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">[</span><span class="s2">&quot;PACLI&quot;</span><span class="p">,</span> <span class="s2">&quot;LOGOFF&quot;</span><span class="p">],</span>
            <span class="p">[</span><span class="s2">&quot;PACLI&quot;</span><span class="p">,</span> <span class="s2">&quot;TERM&quot;</span><span class="p">],</span>
        <span class="p">]</span>

    <span class="k">def</span> <span class="nf">_define_start</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Define the PACLI start commands with default values.</span>

<span class="sd">        Returns:</span>
<span class="sd">            List[List[str]]: List of start command lists.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">defaults</span> <span class="o">=</span> <span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">k</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="si">}</span><span class="s2">=</span><span class="si">{</span><span class="n">v</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">defaults</span><span class="o">.</span><span class="n">items</span><span class="p">()]</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="p">[</span><span class="s2">&quot;PACLI&quot;</span><span class="p">,</span> <span class="s2">&quot;INIT&quot;</span><span class="p">],</span>
            <span class="p">[</span><span class="s2">&quot;PACLI&quot;</span><span class="p">,</span> <span class="s2">&quot;DEFAULT&quot;</span><span class="p">,</span> <span class="o">*</span><span class="n">defaults</span><span class="p">],</span>
            <span class="p">[</span><span class="s2">&quot;PACLI&quot;</span><span class="p">,</span> <span class="s2">&quot;DEFINE&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;ADDRESS=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">vault_url</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">],</span>
        <span class="p">]</span>

    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cmd</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">CompletedProcess</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Execute a command using subprocess.</span>

<span class="sd">        Args:</span>
<span class="sd">            cmd (List[str]): List of command arguments.</span>
<span class="sd">            **kwargs: Additional keyword arguments for subprocess.run.</span>

<span class="sd">        Returns:</span>
<span class="sd">            CompletedProcess: CompletedProcess object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">run</span><span class="p">(</span><span class="n">cmd</span><span class="p">,</span> <span class="n">shell</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">stdout</span><span class="o">=</span><span class="n">subprocess</span><span class="o">.</span><span class="n">PIPE</span><span class="p">,</span> <span class="n">stderr</span><span class="o">=</span><span class="n">subprocess</span><span class="o">.</span><span class="n">PIPE</span><span class="p">,</span> <span class="n">cwd</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">exe_dir</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">run_many</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cmds</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]],</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">CompletedProcess</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Execute multiple commands using subprocess.</span>

<span class="sd">        Args:</span>
<span class="sd">            cmds (List[List[str]]): List of lists containing command arguments.</span>
<span class="sd">            **kwargs: Additional keyword arguments for subprocess.run.</span>

<span class="sd">        Returns:</span>
<span class="sd">            List[CompletedProcess]: List of CompletedProcess objects.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">cmd</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="k">for</span> <span class="n">cmd</span> <span class="ow">in</span> <span class="n">cmds</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">logon</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Log on to the Vault.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">run_many</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_start</span><span class="p">,</span> <span class="n">check</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">logoff</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Log off from the Vault.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">run_many</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_end</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__enter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">logon</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="fm">__exit__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">exc_type</span><span class="p">,</span> <span class="n">exc_val</span><span class="p">,</span> <span class="n">exc_tb</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">logoff</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">cmd_open_safe</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">safe_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Open a safe with the specified name.</span>

<span class="sd">        Args:</span>
<span class="sd">            safe_name (str): Name of the safe to open.</span>

<span class="sd">        Returns:</span>
<span class="sd">            List[List[str]]: List of commands to open the safe.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="p">[</span><span class="s2">&quot;PACLI&quot;</span><span class="p">,</span> <span class="s2">&quot;OPENSAFE&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;SAFE=</span><span class="si">{</span><span class="n">safe_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">]</span>
        <span class="p">]</span>

    <span class="k">def</span> <span class="nf">cmd_close_safe</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">safe_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Close a safe with the specified name.</span>

<span class="sd">        Args:</span>
<span class="sd">            safe_name (str): Name of the safe to close.</span>

<span class="sd">        Returns:</span>
<span class="sd">            List[List[str]]: List of commands to close the safe.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="p">[</span><span class="s2">&quot;PACLI&quot;</span><span class="p">,</span> <span class="s2">&quot;CLOSESAFE&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;SAFE=</span><span class="si">{</span><span class="n">safe_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">]</span>
        <span class="p">]</span>

    <span class="k">def</span> <span class="nf">cmd_unlock_accounts</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">safe_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">accounts</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Unlock an accounts with the specified names. Include openning and closing a safe.</span>

<span class="sd">        Args:</span>
<span class="sd">            safe_name (str): Name of the safe with accounts.</span>
<span class="sd">            accounts (List[str]): List of accounts name.</span>

<span class="sd">        Returns:</span>
<span class="sd">            List[List[str]]: List of commands to unlock the accounts.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">unlock_cmd</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">[</span><span class="s2">&quot;UNLOCKFILE&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;SAFE=</span><span class="si">{</span><span class="n">safe_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;FILE=</span><span class="si">{</span><span class="n">account</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">]</span>
            <span class="k">for</span> <span class="n">account</span> <span class="ow">in</span> <span class="n">accounts</span>
        <span class="p">]</span>
        <span class="k">return</span> <span class="p">[</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd_open_safe</span><span class="p">(</span><span class="n">safe_name</span><span class="p">),</span>
                <span class="o">*</span><span class="n">unlock_cmd</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">cmd_close_safe</span><span class="p">(</span><span class="n">safe_name</span><span class="p">)]</span>

    <span class="k">def</span> <span class="nf">unlock_account</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">safe_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">account</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">accounts</span> <span class="o">=</span> <span class="p">[</span><span class="n">account</span><span class="p">]</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">run_many</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd_unlock_accounts</span><span class="p">(</span><span class="n">safe_name</span><span class="p">,</span> <span class="n">accounts</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">unlock_accounts</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">safe_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">accounts</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">run_many</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd_unlock_accounts</span><span class="p">(</span><span class="n">safe_name</span><span class="p">,</span> <span class="n">accounts</span><span class="p">))</span>


<span class="k">def</span> <span class="nf">get_pacli</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">PACLI</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get an instance of the PACLI wrapper.</span>

<span class="sd">    Returns:</span>
<span class="sd">        PACLI: Instance of PACLI class.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">username</span> <span class="o">=</span> <span class="s2">&quot;USERNAME&quot;</span>
    <span class="n">password</span> <span class="o">=</span> <span class="s2">&quot;PASSWORD&quot;</span>
    <span class="n">vault</span> <span class="o">=</span> <span class="s2">&quot;http://localhost&quot;</span>
    <span class="k">return</span> <span class="n">PACLI</span><span class="p">(</span><span class="n">username</span><span class="p">,</span> <span class="n">password</span><span class="p">,</span> <span class="n">vault</span><span class="p">)</span>
</code></pre></div>
</article>

    </main>

    <footer>
        <p class="footer-links">
            <a class="link" href="https://kanguros.github.io" title="Index" aria-label="Index">Index</a>
            <a class="link" href="https://kanguros.github.io/posts/" title="Posts" aria-label="Posts">Posts</a>
            <a class="link" href="https://kanguros.github.io/tags/" title="Tags" aria-label="Tags">Tags</a>
            <a class="link" href="https://kanguros.github.io/about/" title="About" aria-label="About">About</a>
        </p>
        <p>
            <a class="footer-icon" href="https://github.com/Kanguros/" title="Github" aria-label="Github link">
<svg xmlns="http://www.w3.org/2000/svg" width="25" height="auto" fill="currentColor" viewBox="0 0 16 16">
  <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27s1.36.09 2 .27c1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.01 8.01 0 0 0 16 8c0-4.42-3.58-8-8-8"/>
</svg></a>
        </p>
        <p>© Made by <a class="link" href="https://kanguros.github.io/about/">Kamil Urbanek</a>, powered by <a
                href="https://getpelican.com">Pelican</a></p>
    </footer>
    <script async src="https://kanguros.github.io/theme/js/clean-blog.js"></script>
</body>

</html>