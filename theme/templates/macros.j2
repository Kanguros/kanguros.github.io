{% macro main_post(article) %}

<div class="post-preview">
    <a class="post-title" href="{{ SITEURL }}/{{ article.url }}" rel="bookmark" title="{{ article.title|striptags }}">
        <h3>
            {{ article.title }}
        </h3>
    </a>

    {% if article.has_summary %}
    <p>{{ article.summary }}</p>
    {% elif article.summary %}
    <p>{{ article.summary|striptags|truncate(80) }}</p>
    {% endif %}
    
    <div class="post-footer">
        {{ post_meta(article) }}
    </div>
</div>

{% endmacro %}


{% macro private_post(article) %}

<div class="post-preview">
    <a class="post-title" href="{{ SITEURL }}/{{ article.url }}" rel="bookmark" title="{{ article.title|striptags }}">
        <h3>
            {{ article.title }}
        </h3>
    </a>
    <div class="post-footer">
        <div class="post-meta">
            <span>{{ article.locale_date }}</span>{{ tags_list(article) }}
        </div>
    </div>
</div>

{% endmacro %}


{% macro tags_list(article) %}
<span class="tags">
    {% for t in article.tags %}
    <a class="tag" href="{{ SITEURL }}/tag/{{ t }}/index.html" rel="bookmark" title="Posts with #{{ t }} tag"
        aria-label="Posts with #{{ t }} tag">#{{ t }}</a>
    {% endfor %}
</span>
{% endmacro %}

{% macro post_meta(article) %}
<div class="post-meta">
    <span>{{ article.locale_date }}</span>
    {% for t in article.tags %}
    <span>
        <a class="tag" href="{{ SITEURL }}/tag/{{ t }}/index.html" rel="bookmark" title="Posts with #{{ t }} tag"
            aria-label="Posts with #{{ t }} tag">#{{ t }}</a>
    </span>
    {% endfor %}
</div>
{% endmacro %}
